# Plano de Implementação - Atualização da Documentação Swagger para BookMenu API

- [x] 1. Atualizar metadados e configurações básicas da API
  - Substituir título, descrição e informações de contato para BookMenu API
  - Atualizar tags de organização (Auth, Users, Categories, MenuItems, WeekDays, Menus, Reservations)
  - Adicionar security scheme JWT Bearer na seção components
  - _Requisitos: 1.1, 1.2, 1.3, 1.4, 1.5_

- [x] 2. Implementar schemas de entidades principais
  - [x] 2.1 Criar schemas User, Category, MenuItem, WeekDay
    - Definir propriedades, tipos, formatos e validações para cada entidade
    - Incluir enums para UserRole, UserType, UserStatus, DayOfWeek
    - Adicionar exemplos inline para cada propriedade
    - _Requisitos: 3.6, 4.4, 5.6, 6.6, 7.1_

  - [x] 2.2 Criar schemas Menu, MenuComposition, MenuVariation
    - Definir estrutura completa do cardápio com composições e variações
    - Incluir relacionamentos usando $ref para entidades relacionadas
    - Adicionar enum VariationType (STANDARD, EGG_SUBSTITUTE)
    - _Requisitos: 5.1, 5.2, 5.3, 5.4, 5.5, 5.6_

  - [x] 2.3 Criar schema Reservation
    - Definir propriedades da reserva com relacionamentos
    - Incluir enum ReservationStatus (ACTIVE, CANCELLED)
    - Adicionar flag isAutoGenerated para reservas automáticas
    - _Requisitos: 6.1, 6.2, 6.3, 6.4, 6.5, 6.6, 6.7_

- [x] 3. Implementar schemas de input (DTOs)
  - [x] 3.1 Criar schemas de autenticação e usuários
    - Implementar LoginInput com validação de CPF (pattern) e senha
    - Implementar CreateUserInput e UpdateUserInput com validações apropriadas
    - Incluir valores default e campos required
    - _Requisitos: 2.1, 2.2, 2.3, 2.4, 3.1, 3.2, 3.3, 3.4, 3.5, 3.6_

  - [x] 3.2 Criar schemas de categorias e itens de menu
    - Implementar CreateCategoryInput e UpdateCategoryInput
    - Implementar CreateMenuItemInput e UpdateMenuItemInput
    - Adicionar validações de tamanho e formato
    - _Requisitos: 4.1, 4.2, 4.3, 4.4, 4.5_

  - [x] 3.3 Criar schemas de cardápios e reservas
    - Implementar CreateMenuInput com array de composições
    - Implementar UpdateMenuInput para alterações de cardápio
    - Implementar CreateReservationInput e UpdateReservationInput
    - _Requisitos: 5.1, 5.2, 5.3, 5.4, 5.5, 6.1, 6.2, 6.3, 6.4, 6.5_

- [x] 4. Implementar schemas de erro
  - Criar schemas Error, ValidationError, AuthenticationError, AuthorizationError
  - Definir estrutura de detalhes de validação (code, message, path)
  - Adicionar exemplos de mensagens de erro para cada tipo
  - _Requisitos: 7.1, 7.2, 7.3, 7.4, 7.5_

- [x] 5. Documentar endpoints de autenticação
  - [x] 5.1 Documentar POST /api/auth/login
    - Adicionar request body com LoginInput
    - Documentar respostas 200 (sucesso com token), 400, 401, 500
    - Incluir exemplo de resposta com token JWT e dados do usuário
    - _Requisitos: 2.1, 2.2, 2.3, 2.4, 8.1, 8.2, 8.3, 8.4_

- [x] 6. Documentar endpoints de gerenciamento de usuários (ADMIN)
  - [x] 6.1 Documentar POST /api/users (criar usuário)
    - Adicionar security requirement (BearerAuth)
    - Documentar request body com CreateUserInput
    - Documentar respostas 201, 400, 401, 403, 409, 500
    - Incluir exemplos de requisição e resposta
    - _Requisitos: 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 8.1, 8.2, 8.3_

  - [x] 6.2 Documentar GET /api/users (listar usuários)
    - Adicionar security requirement (BearerAuth)
    - Documentar resposta 200 com array de User
    - Incluir exemplo com múltiplos usuários
    - _Requisitos: 3.2, 8.2, 8.3_

  - [x] 6.3 Documentar GET /api/users/:id (consultar usuário)
    - Adicionar parâmetro id (path, uuid) com validação
    - Documentar respostas 200, 400, 401, 403, 404, 500
    - _Requisitos: 3.3, 8.2, 8.3_

  - [x] 6.4 Documentar PATCH /api/users/:id (atualizar usuário)
    - Adicionar parâmetro id e request body UpdateUserInput
    - Documentar respostas 200, 400, 401, 403, 404, 500
    - Incluir exemplo de atualização de userType (FIXO para NAO_FIXO)
    - _Requisitos: 3.4, 8.1, 8.2, 8.3_

  - [x] 6.5 Documentar PATCH /api/users/:id/status (alternar status)
    - Adicionar parâmetro id com descrição clara
    - Documentar respostas 200, 400, 401, 403, 404, 500
    - Incluir exemplo de alternância ATIVO/INATIVO
    - _Requisitos: 3.5, 8.2, 8.3_

- [x] 7. Documentar endpoints de categorias (ADMIN)
  - [x] 7.1 Documentar CRUD completo de categorias
    - Implementar POST /api/categories (criar)
    - Implementar GET /api/categories (listar)
    - Implementar GET /api/categories/:id (consultar)
    - Implementar PATCH /api/categories/:id (atualizar)
    - Implementar DELETE /api/categories/:id (excluir)
    - Adicionar security requirement em todos os endpoints
    - _Requisitos: 4.1, 4.2, 4.3, 4.4, 4.5, 8.1, 8.2, 8.3_

- [x] 8. Documentar endpoints de itens de menu (ADMIN)
  - [x] 8.1 Documentar CRUD completo de itens de menu
    - Implementar POST /api/menu-items (criar)
    - Implementar GET /api/menu-items (listar com filtro categoryId opcional)
    - Implementar GET /api/menu-items/:id (consultar)
    - Implementar PATCH /api/menu-items/:id (atualizar)
    - Implementar DELETE /api/menu-items/:id (excluir)
    - Adicionar query parameter categoryId no GET com descrição
    - _Requisitos: 4.1, 4.2, 4.3, 4.4, 4.5, 8.1, 8.2, 8.3_

- [x] 9. Documentar endpoints de dias da semana
  - [x] 9.1 Documentar GET /api/week-days
    - Adicionar security requirement (BearerAuth)
    - Documentar resposta 200 com array de WeekDay
    - Incluir exemplo com dias Segunda a Domingo
    - Adicionar descrição explicando que são dados somente leitura
    - _Requisitos: 4.3, 8.2, 8.3_

- [x] 10. Documentar endpoints de cardápios
  - [x] 10.1 Documentar POST /api/menus (criar cardápio - ADMIN)
    - Adicionar security requirement (BearerAuth)
    - Documentar request body CreateMenuInput com array de composições
    - Documentar respostas 201, 400, 401, 403, 409, 500
    - Incluir exemplo completo de cardápio com múltiplos itens e variações
    - Adicionar nota sobre geração automática de variações
    - _Requisitos: 5.1, 5.2, 5.3, 5.4, 5.5, 8.1, 8.2, 8.3, 8.4, 8.5_

  - [x] 10.2 Documentar GET /api/menus (listar cardápios)
    - Adicionar query parameters startDate, endDate, weekNumber (opcionais)
    - Documentar resposta 200 com array de Menu incluindo composições e variações
    - Incluir exemplo de filtro por período
    - _Requisitos: 5.2, 8.2, 8.3_

  - [x] 10.3 Documentar GET /api/menus/:id (consultar cardápio)
    - Adicionar parâmetro id (path, uuid)
    - Documentar resposta 200 com Menu completo (composições e variações)
    - Incluir exemplo realista de cardápio da semana
    - _Requisitos: 5.3, 8.2, 8.3, 8.4_

  - [x] 10.4 Documentar PATCH /api/menus/:id e DELETE /api/menus/:id (ADMIN)
    - Implementar endpoint de atualização com UpdateMenuInput
    - Implementar endpoint de exclusão
    - Documentar respostas apropriadas para cada operação
    - _Requisitos: 5.4, 5.5, 8.2, 8.3_

- [x] 11. Documentar endpoints de reservas
  - [x] 11.1 Documentar POST /api/reservations (criar reserva)
    - Adicionar security requirement (BearerAuth)
    - Documentar request body CreateReservationInput
    - Documentar respostas 201, 400, 401, 409, 500
    - Incluir exemplo de criação de reserva
    - Adicionar nota sobre validação de datas futuras
    - _Requisitos: 6.1, 6.2, 6.3, 6.4, 6.5, 8.1, 8.2, 8.3_

  - [x] 11.2 Documentar GET /api/reservations (listar reservas do usuário)
    - Adicionar query parameters status, startDate, endDate (opcionais)
    - Documentar resposta 200 com array de Reservation
    - Incluir exemplo com múltiplas reservas do usuário
    - _Requisitos: 6.2, 8.2, 8.3_

  - [x] 11.3 Documentar GET /api/reservations/:id (consultar reserva)
    - Adicionar parâmetro id (path, uuid)
    - Documentar respostas 200, 400, 401, 403, 404, 500
    - Incluir exemplo de reserva com menu e variação completos
    - _Requisitos: 6.3, 8.2, 8.3, 8.4_

  - [x] 11.4 Documentar PATCH /api/reservations/:id (alterar reserva)
    - Adicionar parâmetro id e request body UpdateReservationInput
    - Documentar respostas 200, 400, 401, 403, 404, 500
    - Incluir descrição sobre horário limite (8:30 AM)
    - Adicionar exemplo de erro quando horário limite é ultrapassado
    - _Requisitos: 6.4, 6.5, 6.6, 8.1, 8.2, 8.3_

  - [x] 11.5 Documentar DELETE /api/reservations/:id (cancelar reserva)
    - Adicionar parâmetro id com validação uuid
    - Documentar respostas 204, 400, 401, 403, 404, 500
    - Incluir descrição sobre horário limite (8:30 AM)
    - Adicionar exemplo de erro de horário limite
    - _Requisitos: 6.5, 6.6, 8.2, 8.3_

- [x] 12. Adicionar exemplos realistas e validações finais
  - [x] 12.1 Revisar e enriquecer todos os exemplos
    - Garantir que todos os exemplos usam dados realistas (nomes de pratos brasileiros, datas válidas)
    - Adicionar exemplos de erro para cenários comuns (CPF duplicado, horário limite, etc.)
    - Verificar consistência de UUIDs e datas nos exemplos
    - _Requisitos: 8.1, 8.2, 8.3, 8.4, 8.5_

  - [x] 12.2 Validar documento Swagger completo
    - Verificar que todas as referências ($ref) estão corretas
    - Confirmar que todos os schemas required estão definidos
    - Validar que códigos de status HTTP são apropriados
    - Testar documento em validador OpenAPI 3.0
    - _Requisitos: 1.1, 1.2, 1.3, 1.4, 1.5, 7.5_

- [x] 13. Remover documentação antiga de dispositivos IoT
  - Remover todos os paths relacionados a /api/devices
  - Remover schemas Device, CreateDeviceInput, DeviceStatus
  - Limpar exemplos e referências antigas
  - _Requisitos: 1.1, 1.5_
